<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Stateful behaviour </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Stateful behaviour ">
    <meta name="generator" content="docfx 2.59.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc">
    <meta property="docfx:tocrel" content="../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../articles/guides.html" title="Manual">Manual</a>
                      </li>
                      <li>
                          <a href="../../api/index.html" title="Scripting API">Scripting API</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../guides.html" title="Guides" class="">Guides</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../guides/installation.html" title="Installation" class="">Installation</a>
                          </li>
                          <li class="">
                            <a href="../guides/getting_started.html" title="Getting Started" class="">Getting Started</a>
                          </li>
                          <li class="">
                            <a href="../guides/dependency_injection.html" title="Dependency Injection" class="">Dependency Injection</a>
                          </li>
                          <li class="">
                            <a href="../guides/loading.html" title="Loading" class="">Loading</a>
                          </li>
                          <li class="active">
                            <a href="../guides/stateful_behaviour.html" title="Stateful Behaviour" class="active">Stateful Behaviour</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="stateful_behaviour">
<h1 id="stateful-behaviour">Stateful behaviour</h1>

<p>The <strong>AlchemyBow.Core</strong> supports the state pattern. To better understand what states are, imagine a game that has a pause feature - you'll need to pause time, disable the player movement script, disable interaction with some UI elements, and so on. Instead of implementing the pause logic in each script, you can create two states:</p>
<ul>
<li>game state - that enables/disables all in-game systems.</li>
<li>pause state - that enables/disables only the pause menu.</li>
</ul>
<p>The built-in solution allows grouping the functionality of the scene into smaller chunks (called states) and switching between them. To create a state, we need to implement the <a class="xref" href="../../api/AlchemyBow.Core.ICoreState.html">ICoreState</a> interface.</p>
<pre><code>[InjectionTarget]
public class SampleState : ICoreState
{
    [Inject]
    private readonly SampleSystem1 sampleSystem1;
    [Inject]
    private readonly SampleSystem2 sampleSystem2;

    public void Initialize()
    {
        sampleSystem1.SetActive(true);
        sampleSystem2.SetActive(true);
    }

    public void Deinitialize()
    {
        sampleSystem1.SetActive(false);
        sampleSystem2.SetActive(false);
    }
}
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>In order to have the state fields injected, you must install it (just like any other object).</p>
</div>
<div class="TIP">
<h5>Tip</h5>
<p>If you want to receive Unity messages inside a state, consider inheriting from the <code>MonoBehaviour</code> class.</p>
</div>
<p>Then, you can use the <a class="xref" href="../../api/AlchemyBow.Core.CoreController-1.html">CoreController</a> method - <code>ChangeState(ICoreState)</code> to change the states. The best way to set the initial state is to override the <code>CoreController.OnLoadingFinished()</code> method. Also, remember to set the state to <code>null</code> before starting the scene change process.</p>
<div class="NOTE">
<h5>Note</h5>
<p>No part of the framework forces the use of state behavior. You can use it as it is, you can use it in a custom form (e.g. nested states), you can use none or any other solution.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
